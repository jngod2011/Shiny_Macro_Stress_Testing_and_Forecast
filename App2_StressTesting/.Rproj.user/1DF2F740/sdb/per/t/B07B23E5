{
    "collab_server" : "",
    "contents" : "library(markdown)\nlibrary(Quandl)\nlibrary(shiny)\nrequire(rCharts)\nlibrary(shinyBS)\nlibrary(DT)\nlibrary(googleVis)\nlibrary(shinythemes)\nlibrary(shinydashboard)\nload(\"shocks.RData\")\noptions(RCHART_LIB = 'highcharts')\nui <- dashboardPage(\n  dashboardHeader(title = \"Stress Testing Tool\"),\n  dashboardSidebar(\n    sidebarMenu(\n      menuItem(\"Explore MacroEconomic Data\", tabName = \"macro\", icon = icon(\"dashboard\")),\n      menuItem(\"Simulation: Core Variables\", icon = icon(\"support\"), tabName = \"simcore\",badgeLabel = \"V2\", badgeColor = \"green\"),\n      menuItem(\"Simulation: Non Core Variables\", icon = icon(\"bar-chart\"), tabName = \"simnoncore\",badgeLabel = \"V2\", badgeColor = \"red\"),\n      menuItem(\"Forecast Model\", icon = icon(\"bar-chart\"), tabName = \"fore\",badgeLabel = \"V2\", badgeColor = \"yellow\"),\n      menuItem(\"User Guides\", icon = icon(\"bar-chart\"), tabName = \"uguide\",badgeLabel = \"V2\", badgeColor = \"yellow\")\n    )\n  ),\n  dashboardBody(\n    tags$head(\n      tags$link(rel = \"stylesheet\", type = \"text/css\", href = \"style.css\")\n    ),\n    tabItems(\n      tabItem(tabName = \"macro\",\n              box(title = \"Exploration Options\", status = \"primary\",\n                  solidHeader = TRUE,width = 12,\n                  collapsible = TRUE,\n                  h4(\"Get the codes for data series from https://www.quandl.com/search?type=all. (Free Section Only)\"),\n                  h3(\"Input Section\"),\n                  textInput(\"dataseries\", \"Enter Data Name:\", \"FRED/NGDPPOT,FRED/NROUST\"),\n                  bsTooltip(\"dataseries\", \"Enter multiple values separated by commas only (No Quotes)\", options = list(container = \"body\")),\n                  selectInput(\"transform\", \"Get Transformation\", choices=c(\"NULL\", \"diff\", \"rdiff\", \"normalize\", \"cumul\", \"rdiff_from\"),selected = \"NULL\"),\n                  bsTooltip(\"transform\", \"Use transform=none|diff|rdiff|cumul|normalize to get changes, % changes, cumulative sums, or returns from 100 \", options = list(container = \"body\")),\n                  selectInput(\"frequency\", \"Get Frequency\", choices=c(\"NULL\", \"daily\", \"weekly\", \"monthly\", \"quarterly\", \"annual\"),selected = \"NULL\"),\n                  h3(\"View Metadata\"),\n                  uiOutput('Descselect'),\n                  bsTooltip(\"Descselect\", \"Select series in dropdown for which metatda is to be viewed\", options = list(container = \"body\")),\n                  h3(\"Download History File\"),\n                  selectInput('Format', \"Select Format\", choices=c('csv','xls')),\n                  downloadButton('downloadData1', 'Download')),\n              box(title = \"Charts and Description\", status = \"primary\",\n                  solidHeader = TRUE,width = 12,\n                  collapsible = TRUE,\n                  h3(\"Time Series Plot of Macro Economic Series\"),\n                  tabPanel(\"Charts\", showOutput(\"chart1\", \"highcharts\")),\n                  h3(\"Data Description of Macro Economic Series\"),\n                  tableOutput('desctab'))\n      ),\n      tabItem(tabName = \"simcore\",\n              box(title = \"Report Options\", status = \"primary\",\n                  solidHeader = TRUE,width = 12,\n                  collapsible = TRUE,\n                  h4(\"Get the codes for data series from https://www.quandl.com/search?type=all. (Free Section Only)\"),\n                  h3(\"Input Section: Choose Core Variables\"),\n                  checkboxInput(\"core1\", \"Real GDP growth\", value = FALSE, width = NULL),\n                  checkboxInput(\"core2\", \"Real Consumption growth\", value = FALSE, width = NULL),\n                  checkboxInput(\"core3\", \"Real Investment growth\", value = FALSE, width = NULL),\n                  checkboxInput(\"core4\", \"Aggregate Hours\", value = FALSE, width = NULL),\n                  checkboxInput(\"core5\", \"Core PCE Inflation\", value = FALSE, width = NULL),\n                  checkboxInput(\"core6\", \"Fed funds rate\", value = FALSE, width = NULL),\n                  selectInput(\"shock_var\", \"Choose a variable to shock by\",choices = c(\"Preference\", \"Labour supply\", \"Investment\", \"Productivity\",\"Wage markup\", \"Price markup\", \"Government spending\", \"Interest rates\",\"Inflation objective\")),\n                  conditionalPanel(\"input.shock_var == 'Preference'\",\n                                   sliderInput(\"eta_b\", \"Preference shock\", 0, 0.75, shocks[1, \"value\"])),\n                  conditionalPanel(\"input.shock_var == 'Labour supply'\",\n                                   sliderInput(\"eta_L\", \"Labour supply shock\", 0, 7, step = 0.01, shocks[2, \"value\"])),\n                  conditionalPanel(\"input.shock_var == 'Investment'\",\n                                   sliderInput(\"eta_I\", \"Investment shock\", 0, 0.2, shocks[3, \"value\"])),\n                  conditionalPanel(\"input.shock_var == 'Productivity'\",      \n                                   sliderInput(\"eta_a\", \"Productivity shock\", 0, 1.2, shocks[4, \"value\"])),\n                  conditionalPanel(\"input.shock_var == 'Wage markup'\",      \n                                   sliderInput(\"eta_w\", \"Wage markup shock\", 0, 1.4, shocks[5, \"value\"])),\n                  conditionalPanel(\"input.shock_var == 'Price markup'\",      \n                                   sliderInput(\"eta_p\", \"Price markup shock\", 0, 1.6, shocks[6, \"value\"])),\n                  conditionalPanel(\"input.shock_var == 'Government spending'\",      \n                                   sliderInput(\"eta_G\", \"Government spending shock\", 0, 0.75, shocks[7, \"value\"])),\n                  conditionalPanel(\"input.shock_var == 'Interest rates'\",      \n                                   sliderInput(\"eta_R\", \"Interest rates shock\", 0, 0.2, shocks[8, \"value\"])),\n                  conditionalPanel(\"input.shock_var == 'Inflation objective'\",      \n                                   sliderInput(\"eta_pi\", \"Inflation objective shock\", 0, 0.05, shocks[9, \"value\"])),\n                  h4('Enter Simulation & Forecast Details'),\n                  textInput(\"forecount\", \"Enter perios to Forecast:\", \"14\"),\n                  bsTooltip(\"forecount\", \"Enter Periods to forecast\", options = list(container = \"body\")),\n                  textInput(\"simcount\", \"Enter Simulation Count:\", \"100\"),\n                  bsTooltip(\"simcount\", \"Enter number of simulations to create\", options = list(container = \"body\")),\n                  actionButton(\"Simulate\", \"Run_Simulation\", width = \"100%\"),\n                  selectInput('Formatcoresim', \"Select Format\", choices=c('csv','xls')),\n                  downloadButton('downloadSimData', 'Download Simulation'),\n                  h3(\"View Simulations\"),\n                  uiOutput('corevarselect'),\n                  uiOutput('coreperselect'),\n                  selectInput(\"frequencycore\", \"Get Frequency\", choices=c(\"NULL\", \"daily\", \"weekly\", \"monthly\", \"quarterly\", \"annual\"),selected = \"NULL\"),\n                  h3(\"Change Initial Parameters\"),\n                  checkboxInput(\"inchng\", \"Change Initial Parameters?\", value = FALSE, width = NULL),\n                  conditionalPanel(\"input.inchng == true\",\n                                   actionButton(\"goButton\", \"Redraw With Fresh Initialisation\", width = \"100%\"),\n                                   h4(\"Consumer\"),\n                                   sliderInput(\"beta\", \"Discount factor\", 0.9, 0.999, 0.99),\n                                   sliderInput(\"tau\", \"Capital depreciation rate\", 0, 0.1, 0.025),\n                                   sliderInput(\"varphi\", \"Investment adjustment cost\", 2, 13, 6.771),\n                                   sliderInput(\"psi\", \"Capacity utilisation cost\", 0.05, 0.3, 0.169),\n                                   sliderInput(\"sigma_c\", \"Relative risk aversion\", 0.9, 2, 1.353),\n                                   sliderInput(\"h\", \"Habit formation intensity\", 0.3, 1, 0.573),\n                                   sliderInput(\"sigma_l_inv\", \"Labour elasticity wrt wage\", 0.1, 0.9, 1 / 2.4),\n                                   sliderInput(\"omega\", \"Labour disutility\", 0.5, 1.5, 1),\n                                   h4(\"Other\"),\n                                   sliderInput(\"alpha\", \"Capital share in output\", 0, 0.9, step = 0.01, 0.3),\n                                   sliderInput(\"gamma_w\", \"Indexation for non-optimising workers\", 0, 1, step = 0.001, 0.763),\n                                   sliderInput(\"lambda_w\", \"Wage markup\", 0.3, 0.7, step = 0.001, 0.5),\n                                   sliderInput(\"xi_w\", \"Probability of missing wage-change signal\", 0.6, 1, step = 0.001, 0.737),\n                                   sliderInput(\"gamma_p\", \"Indexation for non-optimising firms\", 0, 1, step = 0.001, 0.469),\n                                   sliderInput(\"xi_p\", \"Probability of missing price-change signal\", 0.6, 1, step = 0.001, 0.908),\n                                   sliderInput(\"r_pi\", \"Weight given by monetary authority to inflation\", 0, 3, step = 0.001, 1.684))),\n              box(title = \"Charts and Results\", status = \"primary\", \n                  solidHeader = TRUE,width = 12,\n                  collapsible = TRUE,\n                  h3(\"IRF for Smets Wouters Model\"),\n                  tabPanel(\"irfplot\", showOutput(\"chart5\", \"highcharts\")),\n                  verbatimTextOutput(\"nText\"),\n                  h3(\"Histogram and Stats of simulation\"),\n                  htmlOutput(\"coreDist\"),\n                  tableOutput('corestats'))\n      ),\n      tabItem(tabName = \"simnoncore\",\n              tags$head(tags$style(\".leftAlign{float:left;}\")),\n              box(title = \"Report Options\", status = \"primary\",\n                  solidHeader = TRUE,width = 12,\n                  collapsible = TRUE,\n                  h4(\"Get the codes for data series from https://www.quandl.com/search?type=all. (Free Section Only)\"),\n                  h3(\"Input Section\"),\n                  textInput(\"dataseriessim\", \"Enter Data Name:\", \"FRED/NGDPPOT,FRED/NROUST\"),\n                  bsTooltip(\"dataseriessim\", \"Enter multiple values separated by commas only (No Quotes)\", options = list(container = \"body\")),\n                  selectInput(\"simmet\", \"Choose Simulation Method\", choices=c(\"Univariate Method\", \"Fed Method\"),selected = \"Univariate Method\"),\n                  conditionalPanel(\"input.simmet == 'Fed Method'\",\n                                   checkboxInput(\"Simcorenc1\", \"Real GDP growth\", value = FALSE, width = NULL),\n                                   textInput(\"Simcorenc1var\", \"Enter Data Name:\", \"FRED/GDP\"),\n                                   checkboxInput(\"Simcorenc2\", \"Real Consumption growth\", value = FALSE, width = NULL),\n                                   textInput(\"Simcorenc2var\", \"Enter Data Name:\", \"FRED/PCECC96\"),\n                                   checkboxInput(\"Simcorenc3\", \"Real Investment growth\", value = FALSE, width = NULL),\n                                   textInput(\"Simcorenc3var\", \"Enter Data Name:\", \"FRED/RINV\"),\n                                   checkboxInput(\"Simcorenc4\", \"Aggregate Hours\", value = FALSE, width = NULL),\n                                   textInput(\"Simcorenc4var\", \"Enter Data Name:\", \"FRED/LNU01000000\"),\n                                   checkboxInput(\"Simcorenc5\", \"Core PCE Inflation\", value = FALSE, width = NULL),\n                                   textInput(\"Simcorenc5var\", \"Enter Data Name:\", \"RATEINF/INFLATION_USA\"),\n                                   checkboxInput(\"Simcorenc6\", \"Fed funds rate\", value = FALSE, width = NULL),\n                                   textInput(\"Simcorenc6var\", \"Enter Data Name:\", \"PERTH/FEDF_M\")),\n                  selectInput(\"transformsim\", \"Get Transformation\", choices=c(\"NULL\", \"diff\", \"rdiff\", \"normalize\", \"cumul\", \"rdiff_from\"),selected = \"NULL\"),\n                  bsTooltip(\"transformsim\", \"Use transform=none|diff|rdiff|cumul|normalize to get changes, % changes, cumulative sums, or returns from 100 \", options = list(container = \"body\")),\n                  selectInput(\"frequencysim\", \"Get Frequency\", choices=c(\"NULL\", \"daily\", \"weekly\", \"monthly\", \"quarterly\", \"annual\"),selected = \"NULL\"),\n                  textInput(\"signind\", \"Enter Signs for Outlook:\", \"+,+\"),\n                  bsTooltip(\"signind\", \"Enter + if increase in variable signifies better outlook e.g. GDP, enter - if variable increase suggests worse outlook e.g. umployment. Separate signs by commas\", options = list(container = \"body\")),\n                  selectInput(\"simoutlook\", \"Choose Outlook\", choices=c(\"Very Positive\", \"Positive\", \"Neutral\", \"Negative\", \"Very Negative\"),selected = \"NULL\"),\n                  h3(\"Select Plot & DataTable View\"),\n                  uiOutput('Varselect'),\n                  bsTooltip(\"Varselect\", \"Select Simulation Variable to see\", options = list(container = \"body\")),\n                  selectInput(\"view\", \"Choose Table View\", choices=c(\"Simulation\",\"Forecast\"),selected = \"NULL\"),\n                  h3(\"Select Distribution View\"),\n                  uiOutput('varsimselect'),\n                  uiOutput('perselect'),\n                  h3(\"Download Simulation File\"),\n                  uiOutput('Varsimselect'),\n                  selectInput('Formatsim', \"Select Format\", choices=c('csv','xls')),\n                  downloadButton('downloadData2', 'Download')),\n              box(title = \"Charts and Results\", status = \"primary\", \n                  solidHeader = TRUE,width = 12,\n                  collapsible = TRUE,\n                  class = 'leftAlign',\n                  h3(\"Forecast and Outlook Chart\"),\n                  tabPanel(\"ForecastChart\", showOutput(\"chart2\", \"highcharts\")),\n                  h3(\"Simulation Table of Macro Economic Series\"),\n                  tabPanel(\"simtabview\", DT::dataTableOutput('simtab')),\n                  h3(\"Single Period Histogram and Descriptives of Simulation\"),\n                  tabPanel(\"gvishist\", htmlOutput(\"Dist\")),\n                  tableOutput('noncorestats'))\n      ),\n      tabItem(tabName = \"fore\",\n              box(title = \"Report Options\", status = \"primary\",\n                  solidHeader = TRUE,width = 12,\n                  collapsible = TRUE,\n                  h4(\"Get the codes for data series from https://www.quandl.com/search?type=all. (Free Section Only)\"),\n                  h3(\"Input Section for Dependant Variable\"),\n                  checkboxGroupInput(\"depvarchc\", \"Input Variable or upload:\",c(\"Input\",\"Upload\")),\n                  conditionalPanel(\n                    condition = \"input.depvarchc == 'Input'\",\n                    textInput(\"depvar\", \"Enter Data Name:\", \"FRED/NROUST\"),\n                    bsTooltip(\"dataseriessim\", \"Enter multiple values separated by commas only (No Quotes)\", options = list(container = \"body\"))\n                  ),\n                  conditionalPanel(\n                    condition = \"input.depvarchc == 'Upload'\",\n                    fileInput('depvarfile', 'Choose file to upload',accept = c('text/csv','text/comma-separated-values','text/tab-separated-values','text/plain','.csv','.tsv')),\n                    bsTooltip(\"depvarfile\", \"Only one column data, rows should equal no of data points for macro IV variables\", options = list(container = \"body\")),\n                    checkboxInput('header', 'Header', TRUE),\n                    radioButtons('sep', 'Separator',\n                                 c(Comma=',',\n                                   Semicolon=';',\n                                   Tab='\\t'),\n                                 ','),\n                    radioButtons('quote', 'Quote',\n                                 c(None='',\n                                   'Double Quote'='\"',\n                                   'Single Quote'=\"'\"),\n                                 '\"')\n                  ),\n                  h3(\"Input Section for InDependant Variable\"),\n                  h4(\"Select Core Variables\"),\n                  checkboxInput(\"Fcore1\", \"Real GDP growth\", value = FALSE, width = NULL),\n                  textInput(\"Fcore1var\", \"Enter Data Name:\", \"FRED/GDP\"),\n                  checkboxInput(\"Fcore2\", \"Real Consumption growth\", value = FALSE, width = NULL),\n                  textInput(\"Fcore2var\", \"Enter Data Name:\", \"FRED/PCECC96\"),\n                  checkboxInput(\"Fcore3\", \"Real Investment growth\", value = FALSE, width = NULL),\n                  textInput(\"Fcore3var\", \"Enter Data Name:\", \"FRED/RINV\"),\n                  checkboxInput(\"Fcore4\", \"Aggregate Hours\", value = FALSE, width = NULL),\n                  textInput(\"Fcore4var\", \"Enter Data Name:\", \"FRED/LNU01000000\"),\n                  checkboxInput(\"Fcore5\", \"Core PCE Inflation\", value = FALSE, width = NULL),\n                  textInput(\"Fcore5var\", \"Enter Data Name:\", \"RATEINF/INFLATION_USA\"),\n                  checkboxInput(\"Fcore6\", \"Fed funds rate\", value = FALSE, width = NULL),\n                  textInput(\"Fcore6var\", \"Enter Data Name:\", \"PERTH/FEDF_M\"),\n                  sliderInput(\"control\", \"Choose Simulation:\", min=0, max=1000, value=10,step=1),\n                  h4(\"Select Non Core Variables\"),\n                  textInput(\"foreseriessim\", \"Enter Data Name:\", \"FRED/NROU,FRED/B060RC0A144NBEA\"),\n                  bsTooltip(\"foreseriessim\", \"Enter single series only (No Quotes)\", options = list(container = \"body\")),\n                  selectInput(\"transformfore\", \"Get Transformation\", choices=c(\"NULL\", \"diff\", \"rdiff\", \"normalize\", \"cumul\", \"rdiff_from\"),selected = \"NULL\"),\n                  bsTooltip(\"transformfore\", \"Use transform=none|diff|rdiff|cumul|normalize to get changes, % changes, cumulative sums, or returns from 100 \", options = list(container = \"body\")),\n                  selectInput(\"frequencyfore\", \"Get Frequency\", choices=c(\"NULL\", \"daily\", \"weekly\", \"monthly\", \"quarterly\", \"annual\"),selected = \"NULL\"),\n                  textInput(\"signfore\", \"Enter Signs for Outlook:\", \"+,+\"),\n                  selectInput(\"foreoutlook\", \"Choose Outlook\", choices=c(\"Very Positive\", \"Positive\", \"Neutral\", \"Negative\", \"Very Negative\"),selected = \"NULL\"),\n                  actionButton(\"do\", \"Remove all Previous fits\")),\n              box(title = \"Charts and Results\", status = \"primary\",\n                  solidHeader = TRUE,width = 12,\n                  collapsible = TRUE,\n                  h3(\"Independant Variable Table for ARIMA Model\"),\n                  tabPanel(\"IVTab\",DT::dataTableOutput('IVTABLE')),\n                  h3(\"Fitted Plot of ARIMA Model\"),\n                  tabPanel(\"Forecastfit\", showOutput(\"chart3\", \"highcharts\"),h4(\"Model Summary\"),verbatimTextOutput(\"plotsummary\")),\n                  h3(\"Forecasted Plot of Metric\"),\n                  tabPanel(\"Forecastplot\", showOutput(\"chart4\", \"highcharts\")))\n      ),\n      tabItem(tabName = \"uguide\",\n              box(title = \"1. Report Options\", status = \"primary\",\n                  solidHeader = TRUE,width = 12,\n                  collapsible = TRUE,\n                  \n                  tabsetPanel(\n                    # using iframe along with tags() within tab to display pdf with scroll, height and width could be adjusted\n                    tabPanel(\"Reference\",tags$iframe(src=\"Manual.pdf\", width=\"900\", height=\"600\"))\n                  ))\n      )\n    )\n  )\n)",
    "created" : 1482083930608.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4108818237",
    "id" : "B07B23E5",
    "lastKnownWriteTime" : 1482092141,
    "last_content_update" : 1482092141884,
    "path" : "F:/Dropbox/InHouse_Projects/shiny-server/App2_StressTesting/ui.R",
    "project_path" : "ui.R",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}